function build_earth(e,t){let n=document.getElementById("selectTarget"),o=Object.keys(e);for(let r=0;r<o.length;r++){let s=document.createElement("option");s.value=o[r],s.textContent=o[r],n.appendChild(s)}let l=e[o[t]],c=new maplibregl.Map({container:"map",style:{version:8,sources:{rtile:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",],tileSize:256,attribution:'\xa9<a href="https://www.openstreetmap.org/copyright/ja">OpenStreetMap</a> contributors'}},layers:[{id:"raster-tiles",type:"raster",source:"rtile",minzoom:0,maxzoom:18}]},center:l.center});c.flyTo({center:[l.center[0],l.center[1]-15],zoom:l.zoom});let a=new maplibregl.Popup({closeButton:!1,closeOnClick:!1,focusAfterOpen:!1,anchor:"top",className:"mapPopup",maxWidth:"370px"});a.setLngLat([l.center[0],l.center[1]+1]).setHTML(l.contents).setOffset([0,10]).addTo(c),n.selectedIndex=t;let p=t+1;p>=o.length&&(p=0);let i=function t(){a.remove(),p>=o.length&&(p=0);let r=e[o[p]];c.flyTo({center:[r.center[0],r.center[1]-15],zoom:r.zoom}),a.setLngLat([r.center[0],r.center[1]+1]).setHTML(r.contents).setOffset([0,10]).addTo(c);let s=Array.from(document.getElementsByClassName("mapPopup"));s.forEach(function(e){e.addEventListener("click",t)}),n.options[p].selected=!0,p++};n.addEventListener("change",function(){p=n.selectedIndex,i()});let m=Array.from(document.getElementsByClassName("mapPopup"));m.forEach(function(e){e.addEventListener("click",i)}),c.on("load",()=>{c.setProjection({type:"globe"})})}